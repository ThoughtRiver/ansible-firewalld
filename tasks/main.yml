---

- name: check support OS
  assert:
    that:
      - ansible_os_family in ["RedHat", "Debian"]
    fail_msg: "This OS is not supported"
  tags:
    - firewalld
    - system
    - security
    - install

- include: "{{ ansible_os_family }}.yml"
  when: ansible_os_family in ["RedHat", "Debian"]
  tags:
    - firewalld
    - system
    - security
    - install

- include: "setup.yml"
  tags:
    - firewalld
    - security
    - setup

- shell: firewall-cmd --list-all-zones
  changed_when: False
  tags:
    - firewalld
